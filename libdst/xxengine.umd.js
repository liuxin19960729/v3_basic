(function(e){typeof define=="function"&&define.amd?define(["vue"],e):e()})(function(){"use strict";var M=Object.defineProperty;var j=(e,s,n)=>s in e?M(e,s,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[s]=n;var u=(e,s,n)=>(j(e,typeof s!="symbol"?s+"":s,n),n);class e{}class s extends e{constructor(){super(...arguments);u(this,"name","plugin")}}const n=Object.freeze(Object.defineProperty({__proto__:null,default:s},Symbol.toStringTag,{value:"Module"}));class _ extends e{constructor(){super(...arguments);u(this,"name","route")}onInit(i){return console.log("route init"),Promise.resolve()}}const f=Object.freeze(Object.defineProperty({__proto__:null,default:_},Symbol.toStringTag,{value:"Module"})),g=(r,t)=>{let i=r.includes("sys")?"sys":"cus",l=new t.default;return{name:l.name,mod:l,type:i}};class b{constructor(){u(this,"sys",{});u(this,"cus",{})}async init(t){(d=>{Object.entries(d).forEach(([o,p])=>{const a=g(o,p);this.register(a.name,a.mod,a.type)})})(Object.assign({"/xxengine/sys/PluginModule.ts":n,"/xxengine/sys/RouterModule.ts":f}));let c=Object.entries(this.sys).map(([d,o])=>o.onInit&&o.onInit(t)),m=Object.entries(this.cus).map(([d,o])=>o.onInit&&o.onInit(t));return Promise.all([c,m])}register(t,i,l){let c=l=="cus"?this.cus:this.sys;if(c[t])throw new Error(`重复注册名字${t} 模块`);if(!(i instanceof e))throw new Error(`${t} 模块未继承 Module`);c[t]=i}}const y=new b;window.xxe=y});
